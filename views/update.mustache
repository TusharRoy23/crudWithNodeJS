{{>head}}

<body class="container">
	<div class="row">
		<div class="col-lg-12 col-md-12 col-sm-12 text-center">
			<h2>Welcome to Turbo & Mustache Template</h2>
			<div class="row">
				<div class="col-lg-6 col-md-6 col-sm-6">
					<div class="row">
						<form action="/api/updateProfile" method="post" enctype="multipart/form-data">
							<input type="text" placeholder="First Name" class="form-control" value="{{updateValue.firstName}}" name="firstName"/><br>{{#errors.firstName.msg }}<p class="alert alert-danger text-center">{{ errors.firstName.msg }}</p>{{/errors.firstName.msg }}
							<input type="text" placeholder="Last Name" class="form-control" value="{{updateValue.lastName}}" name="lastName"/><br>{{#errors.lastName.msg }}<p class="alert alert-danger text-center">{{ errors.lastName.msg }}</p>{{/errors.lastName.msg }}
							<input type="number" placeholder="Age" class="form-control" value="{{updateValue.age}}" name="age"/><br>{{#errors.age.msg }}<p class="alert alert-danger text-center">{{ errors.age.msg }}</p>{{/errors.age.msg }}
							<input type="text" placeholder="Position" class="form-control" value="{{updateValue.position}}" name="position"/><br>{{#errors.position.msg }}<p class="alert alert-danger text-center">{{errors.position.msg }}</p>{{/errors.position.msg }}
							<input type="text" placeholder="Team" class="form-control" value="{{updateValue.team}}" name="team"/><br>{{#errors.team.msg }}<p class="alert alert-danger text-center">{{ errors.team.msg }}</p>{{/errors.team.msg }}
							<input type="hidden" value="{{updateValue._id}}" name="getID"/>
							<input type="file" class="form-control" name="photo"><br>{{#imageFile }}<p class="alert alert-danger text-center">{{{ imageFile }}}</p>{{/imageFile }}
							<input type="file" class="form-control" name="picture">
							<input type="submit" class="btn btn-md btn-primary btn-block" value="Submit" />
						</form>
					</div>
				</div>
				<div class="col-lg-6 col-md-6 col-sm-6">
					{{^profileImg}}
						<img src="uploads/no-image.png" alt="Profile Picture" width="480" height="415"  style="border:3px solid #2E2E2E">
					{{/profileImg}}
					
					{{#profileImg}}
						<img src="uploads/{{profileImg}}" alt="Profile Picture" width="480" height="415"  style="border:3px solid #2E2E2E">
					{{/profileImg}}
				</div>
			</div>
		</div>
		<p class="alert alert-default"></p>
		<div class="col-lg-12 col-md-12 col-sm-12">
			{{#success}}
			<p class="alert alert-success text-center">
				{{{success}}}
			</p>
			{{/success}}
		</div>
		<div class="col-lg-12 col-md-12 col-sm-12 text-center">
			<table class="table table-striped table-hover">
				<thead>
					<tr>
                        <th>#</th>
						<th>Name</th>
						<th>Age</th>
						<th>Team</th>
						<th>Position</th>
						<th>Profile Img</th>
						<th colspan="2">Action</th>
					</tr>
				</thead>
				<tbody>
					{{#profile}}
					<tr>
                        <td class="slCounter"></td>
						<td>{{firstName}} {{lastName}}</td>
						<td>{{ age }}</td>
						<td>{{ team }}</td>
						<td>{{ position }}</td>
						<td>
							{{^photo}}
								<img src="uploads/no-image.png" alt="Profile Picture" width="50" height="50"  style="border:1px solid #2E2E2E">
							{{/photo}}

							{{#photo}}
								<img src="uploads/{{ photo }}" alt="Profile Picture" width="50" height="50" style="border:1px solid #2E2E2E">
							{{/photo}}
						</td>
						<td>
							<a href="/api/delete/{{id}}" class="btn btn-md btn-danger">
								Delete
							</a>
						</td>
						<td>
							<a href="/api/updateForm/{{id}}" class="btn btn-md btn-warning">
								Update
							</a>
						</td>
					</tr>
					{{/profile}}
					{{^profile}}
						<h4><b>No Results</b></h4>
					{{/profile}}
				</tbody>
			</table>
		</div>
	</div>
</body>

{{>footer}}
