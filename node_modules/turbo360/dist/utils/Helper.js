var Promise=require("bluebird"),superagent=require("superagent");module.exports={fetchSite:function(e){return new Promise(function(t,r){var n=e.turbo_url+"/api/site/"+e.site_id;superagent.get(n).query(null).set("Accept","application/json").end(function(e,n){if(e)return void r(e);var i=n.body;if("success"!=i.confirmation)return void r(new Error(i.message));var u=i.result;t(u)})})},fetchTextFile:function(e){return new Promise(function(t,r){superagent.get(e).query(null).end(function(e,n){if(e)return void r(e);t(n.text)})})},validateSiteId:function(e){return null!=e.site_id&&!(e.site_id.length<20)},standardHeaders:function(e){var t={Accept:"application/json"};return t[e.turbo_app_header]=e.site_id,t}};